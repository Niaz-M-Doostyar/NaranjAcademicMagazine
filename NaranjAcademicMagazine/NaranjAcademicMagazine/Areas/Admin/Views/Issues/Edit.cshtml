@model System.Data.DataTable
@{
    ViewBag.Title = "Edit";
    Layout = "~/Areas/Admin/Views/Shared/_MainPageLayout.cshtml";
}

<div class="header bg-primary pb-6">
    <div class="container-fluid">
        <div class="header-body">
            <div class="row align-items-center py-4">
                <div class="col-lg-6 col-7">
                    <nav aria-label="breadcrumb" class="d-none d-md-inline-block ml-md-4">
                        <ol class="breadcrumb breadcrumb-links breadcrumb-dark">
                            <li class="breadcrumb-item"><a href=@Url.Action("Index","Home")><i class="fas fa-home"></i></a></li>
                            <li class="breadcrumb-item"><a href=@Url.Action("Index","Issues")>Issues</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Edit</li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Page content -->
<div class="container-fluid mt--6">
    <div class="row">
        <div class="col">
            <div class="card">
                <!-- Edit Issue -->
                <div class="card-header border-0">
                    <h3 class="mb-0" style="text-align:center; font-size: 24px;">Edit Issue Details</h3>
                </div>
                <!-- Edit Issue -->
                <div class="formContainer">
                    @for (int i = 0; i < Model.Rows.Count; i++)
                    {
                        using (Html.BeginForm("Edit", "Issues", FormMethod.Post, new { enctype = "multipart/form-data" }))
                        {
                    <div>
                        <label for="title">Title</label>
                        <input type="text" id="title" name="title" value="@Model.Rows[i][1]" />
                        <label for="abstraction">Abstraction</label>
                        <input type="text" id="abstraction" name="abstraction" value="@Model.Rows[i][2]" />
                        <label for="author1">Author1</label>
                        <input type="text" id="author1" name="author1" value="@Model.Rows[i][3]" />
                        <label for="designation1">Designation1</label>
                        <input type="text" id="designation1" name="designation1" value="@Model.Rows[i][4]" />
                        <label for="author2">Author2</label>
                        <input type="text" id="author2" name="author2" value="@Model.Rows[i][5]" />
                        <label for="designation2">Designation2</label>
                        <input type="text" id="designation2" name="designation2" value="@Model.Rows[i][6]" />
                        <label for="page">Page</label>
                        <input type="text" id="page" name="page" value="@Model.Rows[i][7]" />
                        <label for="volume">Volume</label>
                        <input type="text" id="volume" name="volume" value="@Model.Rows[i][9]" />
                        <label for="issue">Issue</label>
                        <input type="text" id="issue" name="issue" value="@Model.Rows[i][10]" />
                        <label for="year">Date</label>
                        <input type="date" id="year" name="year" value="@Model.Rows[i][11]" />
                        <label for="pdfFile">
                            PDF File: 
                            <a style="color: blue;">@Model.Rows[i][12]</a>
                            <input type="file" id="pdfFilke" name="pdfFile" accept="file/*" onchange="document.getElementById('output').src = window.URL.createObjectURL(this.files[0])">
                        </label>
                        <label for="image" class="image-upload">
                            @{
                                string src = "~/areas/admin/uploadedfiles/" + @Model.Rows[i][13];
                            }
                            <img id="img" src="@Url.Content(src)">
                            <input type="file" id="image" name="image" accept="image/*" onchange="document.getElementById('res').src = window.URL.createObjectURL(this.files[0])">
                        </label>

                    </div>
                            <input type="submit" value="Submit" />
                        }
                    }
                </div>

            </div>
        </div>
    </div>




